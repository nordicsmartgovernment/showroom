<div *ngIf="activePage === REVIEW_SALES_PAGE" class="orders-review">
  <h3>Review incoming orders</h3>
  <div style="overflow:auto">
  </div>
  <table class="table table-striped table-bordered table-sm">
    <thead>
    <tr>
      <th class="th-sm">OrderLines</th>
      <th class="th-sm">Price</th>
      <th class="th-sm">Customer</th>
      <th class="th-sm">Shipping address</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let i of salesOrders; let index = index">
      <td class="order-lines">
        <table class="table table-striped table-bordered table-sm order-lines-table">
          <tbody>
          <tr *ngFor="let orderLine of i.orderLines">
            <td>{{orderLine.product.itemName}}</td>
            <td>{{orderLine.amount}}</td>
          </tr>
          </tbody>
        </table>
      </td>
      <td><p class="table-text">{{getBuyer(i.buyer).name}} ({{getBuyer(i.buyer).id}})
        <p></td>
      <td>
        <p class="table-text">{{getBuyer(i.buyer).streetName}}, {{getBuyer(i.buyer).postCodeIdentifier}}
          , {{getBuyer(i.buyer).townName}}
        <p>
      </td>
      <td>
        <button (click)="onReviewOrder(index)" class="btn btn-primary">Accept and finalize order</button>
        <button (click)="onRejectOrder(index)" class="btn btn-danger">Reject</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>


<div *ngIf="activePage === REVIEW_SALE_PAGE" class="order-review">
  <h3>Sales details</h3>

  <!--
  <button (click)="toggleReinvoiceView()" class="btn btn-primary">Re-invoice</button>
  <mat-form-field appearance="fill">
    <mat-label>Select company to re-invoice to</mat-label>
    <mat-select (selectionChange)="onSelectReinvoiceCompany($event.value)" [(ngModel)]="selectedReinvoiceCompany">
      <mat-option *ngFor="let company of otherCompaniesAndNotBuyer()"
                  [value]="company.id">
        {{company.name}} ({{company.id}})
      </mat-option>
    </mat-select>
  </mat-form-field>


  <div *ngIf="selectedReinvoiceCompany">

    <div class="orderline-container">
      <h2>Your order lines</h2>

      <div
        #ownOrderLinesList="cdkDropList"
        (cdkDropListDropped)="dropInto($event)"
        [cdkDropListConnectedTo]="[reAssignedOrderLinesList]"
        [cdkDropListData]="ownOrderLines"
        cdkDropList
        class="drop-list">
        <div *ngFor="
        let orderLine of ownOrderLines" cdkDrag class="drag-drop-box">
          {{orderLine.amount}} {{orderLine.product.itemName}}</div>
      </div>
    </div>
  </div>
  <div class="orderline-container">
    <h2>Other company order lines</h2>

    <div
      #reAssignedOrderLinesList="cdkDropList"
      (cdkDropListDropped)="dropInto($event)"
      [cdkDropListConnectedTo]="[ownOrderLinesList]"
      [cdkDropListData]="reAssignedOrderLines"
      cdkDropList
      class="drop-list">
      <div *ngFor="let orderLine of reAssignedOrderLines" cdkDrag class="drag-drop-box">
        {{orderLine.amount}} {{orderLine.product.itemName}}</div>
    </div>
  </div>
  -->
  <h2>Order Lines:</h2>
  <div *ngFor="let orderLine of selectedOrder.orderLines">
    <p>{{orderDisplayText(orderLine)}}</p>
    <hr>
  </div>

  <p>Amount net: {{totalSumExclVAT()}} {{actingStore.currency}}</p>
  <p>VAT: {{totalVAT()}} {{actingStore.currency}}</p>
  <p>Amount total: {{totalSumInclVAT()}} {{actingStore.currency}}</p>

  <div class="nav-bar">
    <button (click)="onNavigateBackFromOrder()"
            class="btn btn-outline-dark">Go back
    </button>
    <button (click)="onAcceptOrder()"
            class="btn btn-primary continue">
      Submit order
    </button>
  </div>
</div>
